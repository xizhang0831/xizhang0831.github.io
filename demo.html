<!DOCTYPE html>
<head>
    <meta charset="utf-8">
    <title>ECharts</title>
    <!-- Step1 -->
    <script src="js/esl.js" type="text/javascript"></script>
</head>
<body>
    <!-- Step2: Prepare a Dom which must have width and height -->
    <div id="main" style="height:400px; width:1000px; 1px solid #ccc; padding: 10px;"></div>
    <script type="text/javascript" language="javascript">
        require.config({
            paths:{
                'echarts' : './js/echarts',
                'echarts/chart/bar' : '.js/echarts',
                'echarts/chart/line' : '.js/echarts',
                'echarts/chart/pie' : '.js/echarts'
            }
        });
        require(
            [
                'echarts',
                'echarts/chart/bar',
                'echarts/chart/line',
                'echarts/chart/pie'
            ],
            function(ec) {
                var myChart = ec.init(document.getElementById('main'));
                
                var option = {
                    title : {
                        subtext: 'Data from US Cluster Mapping',
                        sublink: 'http://www.clustermapping.us/home',
                        x: 'center',
                        y: 'bottom'
                    },
                    tooltip : {
                        trigger: 'axis'
                    },
                    toolbox: {
                        show : true,
                        y: 'bottom',
                        feature : {
                            mark : {show: true},
                            dataView : {show: true, readOnly: false},
                            magicType : {show: true, type: ['line', 'bar', 'stack', 'tiled']},
                            restore : {show: true},
                            saveAsImage : {show: true}
                        }
                    },
                    calculabe : true,
                    legend: {
                        data:['New York','Syracuse-Auburn','Rochester-Batavia-Seneca Falls','Buffalo-Niagara-Cattaraugus','Albany-Schenectady-Amsterdam']
                    },
                    xAxis : [
                        {
                            type : 'category',
                            splitLine : {show : false},
                            data : ['1998','1999','2000','2001','2002','2003','2004','2005','2006','2007','2008','2009','2010']
                        }
                    ],
                    yAxis : [
                        {
                            type : 'value',
                            position: 'right',
                            splitArea : {show: true}
                        }
                    ],
                    series : [
                        {
                            name:'New York',
                            type:'bar',
                            data:[27,27,28,28,32,31,29,23,21,22,21,18,17]
                        },
                        {
                            name:'Syracuse-Auburn',
                            type:'bar',
                            data:[1.74,2.25,2.16,1.7,2.13,2.092,2.11,2.47,1.77,1.52,1.55,1.4,0.93]
                        },
                        {
                            name:'Rochester-Batavia-Seneca Falls',
                            type:'bar',
                            data:[0.31,0.33,0.45,0.39,0.41,0.58,0.68,0.53,0.53,0.39,0.39,0.39,0.39]
                        },
                        {
                            name:'Buffalo-Niagara-Cattaraugus',
                            type:'bar',
                            data:[0.38,0.36,0.39,0.37,0.35,0.44,0.46,0.33,0.51,0.49,0.5,0.46,0.54]
                        },
                        {
                            name:'Albany-Schenectady-Amsterdam',
                            type:'bar',
                            data:[0.21,0.23,0.23,0.21,0.23,0.39,0.4,0.43,0.5,0.49,0.4,0.26,0.3]
                        },
                        {
                            name:'NY State Economic Areas',
                            type:'line',
                            data:[29.64,30.17,31.23,30.67,35.12,34.50,32.65,26.76,24.31,24.89,23.84,20.51,19.16]
                        },
                        {
                            name:'NY State Economic Area Class',
                            type:'pie',
                            tooltip : {
                                trigger: 'item',
                                formatter: '{a} <br/>{b} : {c} ({d}%)'
                            },
                            center: [800,120],
                            radius : [0, 50],
                            startAngle: 55,
                            itemStyle : {
                                normal : {
                                    labelLine : {
                                        length : 20
                                    }
                                }
                            },
                            data:[
                                {value:324, name:'New York'},
                                {value:23.822, name:'Syracuse-Auburn'},
                                {value:5.77, name:'Rochester-Batavia-Seneca Falls'},
                                {value:5.58, name:'Buffalo-Niagara-Cattaraugus'},
                                {value:4.28, name:'Albany-Schenectady-Amsterdam'}
                            ]
                        }
                    ]
                };
                
                myChart.setOption(option);
            }
        );
        </script>
    </body>